# ğŸš€ GitHub Actions ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº† WarpGo é¡¹ç›®ä¸­é…ç½®çš„ GitHub Actions å·¥ä½œæµç¨‹ã€‚

## ğŸ“‹ å·¥ä½œæµæ¦‚è§ˆ

### 1. æŒç»­é›†æˆ (CI) - `ci.yml`
**è§¦å‘æ¡ä»¶:**
- æ¨é€åˆ° `main`ã€`master`ã€`develop` åˆ†æ”¯
- åˆ›å»º Pull Request

**åŠŸèƒ½:**
- ä»£ç æ ¼å¼æ£€æŸ¥ (`cargo fmt`, `cargo clippy`)
- TypeScript ç±»å‹æ£€æŸ¥
- è¿è¡Œå•å…ƒæµ‹è¯•
- å¿«é€Ÿæ„å»ºéªŒè¯

### 2. æ„å»ºå’Œå‘å¸ƒ - `build.yml`
**è§¦å‘æ¡ä»¶:**
- æ¨é€åˆ°ä¸»åˆ†æ”¯
- Pull Request
- å‘å¸ƒ Release

**åŠŸèƒ½:**
- è·¨å¹³å°æ„å»º (Windows, macOS, Linux)
- ç”Ÿæˆå®‰è£…åŒ…
- ä¸Šä¼ æ„å»ºäº§ç‰©
- è‡ªåŠ¨å‘å¸ƒåˆ° GitHub Releases

### 3. ç‰ˆæœ¬å‘å¸ƒ - `release.yml`
**è§¦å‘æ¡ä»¶:**
- æ¨é€ Git æ ‡ç­¾ (æ ¼å¼: `v*`)

**åŠŸèƒ½:**
- åˆ›å»º GitHub Release
- è·¨å¹³å°æ„å»º
- è‡ªåŠ¨ä¸Šä¼ æ‰€æœ‰å¹³å°çš„å®‰è£…åŒ…

### 4. ä¾èµ–æ›´æ–° - `dependabot.yml`
**è§¦å‘æ¡ä»¶:**
- æ¯å‘¨ä¸€è‡ªåŠ¨è¿è¡Œ
- æ‰‹åŠ¨è§¦å‘

**åŠŸèƒ½:**
- æ£€æŸ¥ npm ä¾èµ–æ›´æ–°
- æ£€æŸ¥ Cargo ä¾èµ–æ›´æ–°
- åˆ›å»ºæ›´æ–°æŠ¥å‘Š Issue

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
é¡¹ç›®ä½¿ç”¨ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `GITHUB_TOKEN`: GitHub è‡ªåŠ¨æä¾›ï¼Œç”¨äºè®¿é—®ä»“åº“
- `CARGO_TERM_COLOR`: è®¾ç½®ä¸º `always`ï¼Œå¯ç”¨å½©è‰²è¾“å‡º

### ç¼“å­˜ç­–ç•¥
ä¸ºäº†åŠ é€Ÿæ„å»ºï¼Œé…ç½®äº†ä»¥ä¸‹ç¼“å­˜ï¼š

**Node.js ç¼“å­˜:**
```yaml
- name: è®¾ç½® Node.js
  uses: actions/setup-node@v4
  with:
    node-version: '18'
    cache: 'npm'
    cache-dependency-path: WarpGo-manager/package-lock.json
```

**Rust ç¼“å­˜:**
```yaml
- name: ç¼“å­˜ Rust ä¾èµ–
  uses: actions/cache@v3
  with:
    path: |
      ~/.cargo/bin/
      ~/.cargo/registry/index/
      ~/.cargo/registry/cache/
      ~/.cargo/git/db/
      WarpGo-manager/src-tauri/target/
    key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}
```

## ğŸ“¦ å‘å¸ƒæµç¨‹

### è‡ªåŠ¨å‘å¸ƒæ–°ç‰ˆæœ¬

1. **æ›´æ–°ç‰ˆæœ¬å·**
   ```bash
   # åœ¨ WarpGo-manager/package.json ä¸­æ›´æ–°ç‰ˆæœ¬
   # åœ¨ WarpGo-manager/src-tauri/Cargo.toml ä¸­æ›´æ–°ç‰ˆæœ¬
   # åœ¨ WarpGo-manager/src-tauri/tauri.conf.json ä¸­æ›´æ–°ç‰ˆæœ¬
   ```

2. **åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾**
   ```bash
   git add .
   git commit -m "chore: bump version to v1.0.1"
   git tag v1.0.1
   git push origin main
   git push origin v1.0.1
   ```

3. **è‡ªåŠ¨æ„å»º**
   - GitHub Actions è‡ªåŠ¨æ£€æµ‹åˆ°æ–°æ ‡ç­¾
   - å¹¶è¡Œæ„å»ºä¸‰ä¸ªå¹³å°çš„å®‰è£…åŒ…
   - åˆ›å»º GitHub Release
   - ä¸Šä¼ æ‰€æœ‰å®‰è£…åŒ…

### æ‰‹åŠ¨è§¦å‘æ„å»º

å¯ä»¥é€šè¿‡ GitHub ç½‘é¡µç•Œé¢æ‰‹åŠ¨è§¦å‘å·¥ä½œæµï¼š

1. è¿›å…¥ä»“åº“çš„ "Actions" é¡µé¢
2. é€‰æ‹©è¦è¿è¡Œçš„å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow" æŒ‰é’®

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹æ„å»ºç›®æ ‡

åœ¨ `build.yml` ä¸­ä¿®æ”¹æ„å»ºçŸ©é˜µï¼š

```yaml
strategy:
  matrix:
    platform: [macos-latest, ubuntu-20.04, windows-latest]
```

### æ·»åŠ æ–°çš„æ£€æŸ¥

åœ¨ `ci.yml` ä¸­æ·»åŠ æ–°çš„æ£€æŸ¥æ­¥éª¤ï¼š

```yaml
- name: è‡ªå®šä¹‰æ£€æŸ¥
  run: |
    # æ·»åŠ ä½ çš„æ£€æŸ¥å‘½ä»¤
```

### ä¿®æ”¹å‘å¸ƒå†…å®¹

åœ¨ `release.yml` ä¸­è‡ªå®šä¹‰ Release æè¿°ï¼š

```yaml
body: |
  ## ğŸ‰ WarpGo æ–°ç‰ˆæœ¬å‘å¸ƒ
  
  ### ğŸ“¦ ä¸‹è½½é“¾æ¥
  - **Windows**: ä¸‹è½½ `.msi` æˆ– `.exe` æ–‡ä»¶
  - **macOS**: ä¸‹è½½ `.dmg` æ–‡ä»¶
  - **Linux**: ä¸‹è½½ `.AppImage` æˆ– `.deb` æ–‡ä»¶
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ„å»ºå¤±è´¥**
   - æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§
   - æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
   - ç¡®ä¿æœ¬åœ°æ„å»ºæˆåŠŸ

2. **å‘å¸ƒå¤±è´¥**
   - æ£€æŸ¥æ ‡ç­¾æ ¼å¼æ˜¯å¦æ­£ç¡® (`v*`)
   - ç¡®ä¿æœ‰è¶³å¤Ÿçš„ä»“åº“æƒé™
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®

3. **ç¼“å­˜é—®é¢˜**
   - å¯ä»¥åœ¨ Actions é¡µé¢æ¸…é™¤ç¼“å­˜
   - æˆ–è€…ä¿®æ”¹ç¼“å­˜é”®å€¼å¼ºåˆ¶é‡æ–°æ„å»º

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è°ƒè¯•æ—¥å¿—**
   ```yaml
   env:
     ACTIONS_STEP_DEBUG: true
   ```

2. **ä½¿ç”¨ tmate è¿›è¡Œè¿œç¨‹è°ƒè¯•**
   ```yaml
   - name: Setup tmate session
     uses: mxschmitt/action-tmate@v3
   ```

## ğŸ“Š ç›‘æ§å’Œé€šçŸ¥

### æ„å»ºçŠ¶æ€å¾½ç« 

åœ¨ README ä¸­æ·»åŠ çš„å¾½ç« ä¼šæ˜¾ç¤ºæ„å»ºçŠ¶æ€ï¼š

```markdown
[![æ„å»ºçŠ¶æ€](https://github.com/your-username/WarpGo/workflows/æ„å»ºå’Œå‘å¸ƒ/badge.svg)](https://github.com/your-username/WarpGo/actions)
```

### é€šçŸ¥è®¾ç½®

å¯ä»¥åœ¨ GitHub è®¾ç½®ä¸­é…ç½®é€šçŸ¥ï¼š
- æ„å»ºå¤±è´¥æ—¶å‘é€é‚®ä»¶
- æˆåŠŸå‘å¸ƒæ—¶å‘é€é€šçŸ¥

## ğŸ”’ å®‰å…¨è€ƒè™‘

1. **Secrets ç®¡ç†**
   - ä¸è¦åœ¨å·¥ä½œæµä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
   - ä½¿ç”¨ GitHub Secrets å­˜å‚¨æ•æ„Ÿæ•°æ®

2. **æƒé™æ§åˆ¶**
   - ä½¿ç”¨æœ€å°æƒé™åŸåˆ™
   - å®šæœŸå®¡æŸ¥å·¥ä½œæµæƒé™

3. **ä¾èµ–å®‰å…¨**
   - å®šæœŸæ›´æ–° Actions ç‰ˆæœ¬
   - ä½¿ç”¨ Dependabot ç›‘æ§ä¾èµ–å®‰å…¨

---

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ GitHub Actions æ–‡æ¡£æˆ–åˆ›å»º Issue å¯»æ±‚å¸®åŠ©ã€‚
